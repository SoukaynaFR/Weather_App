{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let WeatherComponent = class WeatherComponent {\n  constructor() {}\n  ngOnInit() {\n    this.WeatherData = {\n      main: {}\n    };\n    this.getWeatherData();\n    console.log(this.WeatherData);\n  }\n  onSubmit() {\n    this.getWeatherData(this.cityName);\n    this.cityName = '';\n  }\n  getWeatherData() {\n    fetch('https://api.openweathermap.org/data/2.5/weather?lat=44.34&lon=10.99&appid=15157990a839b26e8e8c626470c01af8').then(response => response.json()).then(data => {\n      this.setWeatherData(data);\n    });\n    //   let data = JSON.parse('{\"coord\":{\"lon\":10.99,\"lat\":44.34},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"base\":\"stations\",\"main\":{\"temp\":298.82,\"feels_like\":298.62,\"temp_min\":296.86,\"temp_max\":300.05,\"pressure\":1018,\"humidity\":45,\"sea_level\":1018,\"grnd_level\":936},\"visibility\":10000,\"wind\":{\"speed\":3.01,\"deg\":30,\"gust\":3.59},\"clouds\":{\"all\":0},\"dt\":1694183105,\"sys\":{\"type\":2,\"id\":2075663,\"country\":\"IT\",\"sunrise\":1694148391,\"sunset\":1694194899},\"timezone\":7200,\"id\":3163858,\"name\":\"Zocca\",\"cod\":200}')\n    // this.setWeatherData(data);\n  }\n\n  setWeatherData(data) {\n    this.WeatherData = data;\n    this.WeatherData.name = this.WeatherData.name;\n    this.WeatherData.temp_min = (this.WeatherData.main.temp_min - 273.15).toFixed(0);\n    this.WeatherData.temp_max = (this.WeatherData.main.temp_max - 273.15).toFixed(0);\n    this.WeatherData.temp = (this.WeatherData.main.temp - 273.15).toFixed(0);\n    this.WeatherData.humidity = this.WeatherData.main.humidity;\n    this.WeatherData.wind = this.WeatherData.wind.speed;\n  }\n};\nWeatherComponent = __decorate([Component({\n  selector: 'app-weather',\n  templateUrl: './weather.component.html',\n  styleUrls: ['./weather.component.css']\n})], WeatherComponent);","map":{"version":3,"names":["Component","WeatherComponent","constructor","ngOnInit","WeatherData","main","getWeatherData","console","log","onSubmit","cityName","fetch","then","response","json","data","setWeatherData","name","temp_min","toFixed","temp_max","temp","humidity","wind","speed","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\MEâœ¨\\Desktop\\weather-app-angular\\weather-app\\src\\app\\weather\\weather.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { response } from 'express';\n\n@Component({\n  selector: 'app-weather',\n  templateUrl: './weather.component.html',\n  styleUrls: ['./weather.component.css']\n})\nexport class WeatherComponent implements OnInit{\nWeatherData:any;\ncityName?:string;\nconstructor(){}\n\n\n  ngOnInit(): void {\n    this.WeatherData = {\n      main: {}\n    }\n    this.getWeatherData();\n    console.log(this.WeatherData);\n  }\n  onSubmit(){\n    this.getWeatherData(this.cityName);\n    this.cityName = '';\n\n  }\n\n  getWeatherData(){\n    fetch('https://api.openweathermap.org/data/2.5/weather?lat=44.34&lon=10.99&appid=15157990a839b26e8e8c626470c01af8')\n    .then(response => response.json())\n    .then(data =>{this.setWeatherData(data);})\n\n  //   let data = JSON.parse('{\"coord\":{\"lon\":10.99,\"lat\":44.34},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"base\":\"stations\",\"main\":{\"temp\":298.82,\"feels_like\":298.62,\"temp_min\":296.86,\"temp_max\":300.05,\"pressure\":1018,\"humidity\":45,\"sea_level\":1018,\"grnd_level\":936},\"visibility\":10000,\"wind\":{\"speed\":3.01,\"deg\":30,\"gust\":3.59},\"clouds\":{\"all\":0},\"dt\":1694183105,\"sys\":{\"type\":2,\"id\":2075663,\"country\":\"IT\",\"sunrise\":1694148391,\"sunset\":1694194899},\"timezone\":7200,\"id\":3163858,\"name\":\"Zocca\",\"cod\":200}')\n  // this.setWeatherData(data);\n  }\n\n  setWeatherData(data: any){\n    this.WeatherData = data;\n    this.WeatherData.name =this.WeatherData.name;\n    this.WeatherData.temp_min = (this.WeatherData.main.temp_min - 273.15).toFixed(0);\n    this.WeatherData.temp_max = (this.WeatherData.main.temp_max - 273.15).toFixed(0);\n    this.WeatherData.temp = (this.WeatherData.main.temp - 273.15).toFixed(0);\n    this.WeatherData.humidity = this.WeatherData.main.humidity ;\n    this.WeatherData.wind = this.WeatherData.wind.speed;\n    \n\n\n\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAQ1C,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAG7BC,YAAA,GAAc;EAGZC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,GAAG;MACjBC,IAAI,EAAE;KACP;IACD,IAAI,CAACC,cAAc,EAAE;IACrBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,WAAW,CAAC;EAC/B;EACAK,QAAQA,CAAA;IACN,IAAI,CAACH,cAAc,CAAC,IAAI,CAACI,QAAQ,CAAC;IAClC,IAAI,CAACA,QAAQ,GAAG,EAAE;EAEpB;EAEAJ,cAAcA,CAAA;IACZK,KAAK,CAAC,4GAA4G,CAAC,CAClHC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAG;MAAC,IAAI,CAACC,cAAc,CAACD,IAAI,CAAC;IAAC,CAAC,CAAC;IAE5C;IACA;EACA;;EAEAC,cAAcA,CAACD,IAAS;IACtB,IAAI,CAACX,WAAW,GAAGW,IAAI;IACvB,IAAI,CAACX,WAAW,CAACa,IAAI,GAAE,IAAI,CAACb,WAAW,CAACa,IAAI;IAC5C,IAAI,CAACb,WAAW,CAACc,QAAQ,GAAG,CAAC,IAAI,CAACd,WAAW,CAACC,IAAI,CAACa,QAAQ,GAAG,MAAM,EAAEC,OAAO,CAAC,CAAC,CAAC;IAChF,IAAI,CAACf,WAAW,CAACgB,QAAQ,GAAG,CAAC,IAAI,CAAChB,WAAW,CAACC,IAAI,CAACe,QAAQ,GAAG,MAAM,EAAED,OAAO,CAAC,CAAC,CAAC;IAChF,IAAI,CAACf,WAAW,CAACiB,IAAI,GAAG,CAAC,IAAI,CAACjB,WAAW,CAACC,IAAI,CAACgB,IAAI,GAAG,MAAM,EAAEF,OAAO,CAAC,CAAC,CAAC;IACxE,IAAI,CAACf,WAAW,CAACkB,QAAQ,GAAG,IAAI,CAAClB,WAAW,CAACC,IAAI,CAACiB,QAAQ;IAC1D,IAAI,CAAClB,WAAW,CAACmB,IAAI,GAAG,IAAI,CAACnB,WAAW,CAACmB,IAAI,CAACC,KAAK;EAKrD;CACD;AAzCYvB,gBAAgB,GAAAwB,UAAA,EAL5BzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACW3B,gBAAgB,CAyC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}